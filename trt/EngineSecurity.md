# Engine模型安全性验证
### 模型仓库现有模型：
 
- onnx 

- engine

### 模型安全性

- onnx模型的结构可以被直接解析，会造成模型的泄漏。安全性差。

- engine模型是由onnx模型经过层融合等一系列操作得到的，其网络结构与onnx模型并不相同。通过对engine模型结构的解析无法溯源到onnx。

### engine模型安全性验证

下图是同一模型onnx和engine的输入的网络结构
![](../s/onnxengine.png)

因为onnx模型的安全性得不到保证，建议在生成engine后删除onnx。

### engine模型的风险

在同硬件环境下engine 是可以迁移使用的，因此要限制对engine模型的拷贝和转移。



### 网上关于模型加密方案

| 方法描述                             | 加密和解密                                               | 优点                     | 缺点           |
| ------------------------------------ | -------------------------------------------------------- | ------------------------ | -------------- |
| 使用专用加密库对模型加密，使用时解密 | 用 openssl或者crypto++                                   | 加密算法越强，安全性越高 | 解密会浪费时间 |
| 设置假路径放置假模型                 | 显式的模型路径中放置无效模型，真正的模型放置在另一个地方 | 不影响运行速度           | 易于破解       |
| 自定义的外部文件加密方式             | 直接对模型文件夹进行加密                                 | 简单                     |                |
| 部署到云端给api接口调用              |                                                          | 安全性高                 | 当前场景不实用 |